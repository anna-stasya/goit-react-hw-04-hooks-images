{"version":3,"sources":["Components/Modal/Modal.module.css","Components/LoadMoreButton/LoadMoreButton.module.css","Components/Searchbar/Searchbar.jsx","Components/Services/CardApi.jsx","Components/ImageGallery/CardErrorView.jsx","Components/LoadMoreButton/LoadMoreButton.jsx","Components/Modal/Modal.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchbar","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSabmit","preventDefault","trim","props","onNameSabmit","toast","error","className","s","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","React","Component","api","fetchCard","name","page","console","log","fetch","then","response","ok","json","Promise","reject","Error","CardErrorView","massage","LoadMoreButton","LoadMoreBtn","Button","onClick","modalRoot","document","querySelector","Modal","onEscClick","code","onClose","onBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","src","largeImageURL","alt","ImageGalleryItem","webformatURL","tags","onOpenModal","ImageGalleryItemImage","ImageGallery","cardImage","status","loadMoreBtn","prevState","largeImageUR","onCloseModal","prevProps","prevName","imageName","nextName","cardAPI","total","hits","catch","scrollTo","top","documentElement","scrollHeight","behavior","images","color","height","width","timeout","map","img","id","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.99205408.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__yT40p\",\"Modal\":\"Modal_Modal__Xb592\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMoreButton_Button__3go3-\"};","import React from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends React.Component {\n  state = {\n    searchbar: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ searchbar: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSabmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchbar.trim() === '') {\n      toast.error('Error! Еnter something');\n      return;\n    }\n    this.props.onNameSabmit(this.state.searchbar);\n    this.setState({ searchbar: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSabmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchbar}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport { Searchbar };\n","const BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '22363451-8577670099bbad87a35d9bf1c';\n\nfunction fetchCard(name, page) {\n  console.log(name);\n  return fetch(\n    `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Not found ${name}`));\n  });\n}\n\nconst api = { fetchCard };\n\nexport default api;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction CardErrorView({ massage }) {\n  return (\n    <div>\n      <p>{massage}</p>\n    </div>\n  );\n}\n\nCardErrorView.propTypes = {\n  massage: PropTypes.string.isRequired,\n};\n\nexport { CardErrorView };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './LoadMoreButton.module.css';\n\nfunction LoadMoreButton({ LoadMoreBtn }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={LoadMoreBtn}>\n      Load more\n    </button>\n  );\n}\n\nLoadMoreButton.propTypes = {\n  LoadMoreBtn: PropTypes.func.isRequired,\n};\n\nexport { LoadMoreButton };\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscClick);\n  }\n\n  //-----------------закрыть по ESС---------------------\n  onEscClick = event => {\n    const ESC_KEY_CODE = 'Escape';\n\n    if (event.code === ESC_KEY_CODE) {\n      this.props.onClose();\n    }\n  };\n\n  //-------------закрыть по onBackdropClick(event)----------\n  onBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.largeImageURL} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport { Modal };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  tags,\n  largeImageURL,\n  onOpenModal,\n}) => {\n  return (\n    <li\n      onClick={() => {\n        onOpenModal(largeImageURL, tags);\n      }}\n    >\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport cardAPI from '../Services/CardApi';\nimport { CardErrorView } from './CardErrorView';\nimport { LoadMoreButton } from '../LoadMoreButton/LoadMoreButton';\nimport { Modal } from '../Modal/Modal';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends React.Component {\n  state = {\n    cardImage: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const nextName = this.props.imageName;\n\n    if (prevName !== nextName) {\n      this.setState({ status: 'pending', page: 1 });\n\n      cardAPI\n        .fetchCard(nextName, this.state.page)\n        .then(cardImage => {\n          if (cardImage.total === 0) {\n            this.setState({\n              error: `Not found ${nextName}`,\n              status: 'rejected',\n            });\n          } else {\n            this.setState(prevState => ({\n              cardImage: cardImage.hits,\n              status: 'resolved',\n            }));\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n\n    if (this.state.page !== 1) {\n      cardAPI\n        .fetchCard(this.props.imageName, this.state.page)\n        .then(cardImage =>\n          this.setState(prevState => ({\n            cardImage: [...prevState.cardImage, ...cardImage.hits],\n            status: 'resolved',\n          })),\n        )\n        .then(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  loadMoreBtn = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  //====открыть модалку ===\n  onOpenModal = (largeImageUR, alt) => {\n    this.setState({\n      largeImageURL: largeImageUR,\n      alt: alt,\n    });\n  };\n  //====закрыть модалку ===\n  onCloseModal = () => {\n    this.setState({\n      largeImageURL: '',\n      alt: '',\n    });\n  };\n\n  //===========================-------------render--------\n  render() {\n    console.log(this.state.cardImage);\n    const { error, status, largeImageURL } = this.state;\n    const images = this.state.cardImage;\n\n    //==== если пусто ====\n    if (status === 'idle') {\n      return <div>While null, enter something</div>;\n    }\n\n    //==== что-то загружается (загрузка) ====\n    if (status === 'pending') {\n      return (\n        <div>\n          <Loader\n            type=\"MutatingDots\"\n            //type=\"Watch\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        </div>\n      );\n    }\n\n    //==== рендер всех картинок ====\n    if (status === 'resolved') {\n      return (\n        <ul className={s.ImageGallery}>\n          {/* ====рендер всех картинок==== */}\n          {images.map(img => {\n            return (\n              <ImageGalleryItem\n                key={img.id}\n                alt={img.tags}\n                webformatURL={img.webformatURL}\n                largeImageURL={img.largeImageURL}\n                onOpenModal={this.onOpenModal}\n              />\n            );\n          })}\n\n          <LoadMoreButton LoadMoreBtn={this.loadMoreBtn} />\n          {/* ====модалка==== */}\n          {largeImageURL && (\n            <Modal\n              largeImageURL={largeImageURL}\n              alt={this.state.alt}\n              onClose={this.onCloseModal}\n            />\n          )}\n        </ul>\n      );\n    }\n\n    //==== отклонено (ошибка) ====\n    if (status === 'rejected') {\n      console.log(error);\n      return <CardErrorView massage={error} />;\n    }\n  }\n}\n\nexport { ImageGallery };\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n//Components\nimport { Searchbar } from './Components/Searchbar/Searchbar';\nimport { ImageGallery } from './Components/ImageGallery/ImageGallery';\n\nimport './App.css';\n// import s from './App.module.css';\n\nclass App extends React.Component {\n  state = {\n    imageName: '',\n    searchbar: '',\n  };\n\n  //отправка формы\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onNameSabmit={this.handleFormSubmit} />\n\n        <ImageGallery imageName={this.state.imageName}></ImageGallery>\n\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__kGJJY\",\"SearchForm\":\"Searchbar_SearchForm__2Z65v\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1GGzP\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1oloc\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3AdLU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3BN6g\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__ihk9E\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__3q4tn\"};"],"sourceRoot":""}